"use strict";$(function(){$.i18n.properties({name:"messages",path:"/i18n/",mode:"map",language:getLanguage(),callback:function(){setRoleDropdownList(),setTypeDropdownList(),dropdownIconAnimation(),formValid()}})});var roleLength=11,typeLength=4,hasValid=!1;function setRoleDropdownList(){for(var e="",o=1;o<=roleLength;o+=1)e+='<li class="dropdown-item contact__dropdown-item">'+$.i18n.prop("contact.role.role"+o)+"</li>";$(".contact__select-role .dropdown-menu").html(e),onRoleDropdownItemClick()}function setTypeDropdownList(){for(var e="",o=1;o<=typeLength;o+=1)e+='<li class="dropdown-item contact__dropdown-item">'+$.i18n.prop("contact.type.type"+o)+"</li>";$(".contact__select-type .dropdown-menu").html(e),onTypeDropdownItemClick()}function onRoleDropdownItemClick(){$(".contact__select-role .dropdown-item").click(function(e){console.log($(e.target).text()),$("#role").val($(e.target).text()),hasValid&&$("#contactForm").valid()})}function onTypeDropdownItemClick(){$(".contact__select-type .dropdown-item").click(function(e){$("#type").val($(e.target).text()),hasValid&&$("#contactForm").valid()})}function dropdownIconAnimation(){$(".contact__select-role, .contact__select-type").on("show.bs.dropdown",function(){$(this).children(".contact__select-icon").addClass("reversed")}),$(".contact__select-role, .contact__select-type").on("hide.bs.dropdown",function(){$(this).children(".contact__select-icon").removeClass("reversed")})}function formValid(){$("#contactForm").validate({rules:{name:{required:!0},role:{required:!0},email:{required:!0,email:!0},subject:{required:!0},type:{required:!0},message:{required:!0}},messages:{name:{required:$.i18n.prop("error.form.nameEmpty")},role:{required:$.i18n.prop("error.form.roleEmpty")},email:{required:$.i18n.prop("error.form.emailEmpty"),email:$.i18n.prop("error.form.emailInvalid")},subject:{required:$.i18n.prop("error.form.subjectEmpty")},type:{required:$.i18n.prop("error.form.typeEmpty")},message:{required:$.i18n.prop("error.form.messageEmpty")}}})}function onSubmit(){hasValid=!0,$("#contactForm").valid()&&ajax({title:$("#subject").val(),occupationField:$("#role").val(),content:$("#message").val(),type:$("#type").val(),name:$("#name").val(),email:$("#email").val(),phone:$("#phone").val()},"/contact","POST",function(e){e.success&&(resetForm(),showTipsModal($.i18n.prop("modal.title.thanks"),$.i18n.prop("modal.title.contactFeedback"),$.i18n.prop("modal.title.ok")))})}function resetForm(){$("#name").val(""),$("#role").val(""),$("#email").val(""),$("#phone").val(""),$("#subject").val(""),$("#type").val(""),$("#message").val("")}
//# sourceMappingURL=contact.js.map
